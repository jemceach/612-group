"0","# create user item matrix with 500 items only as I was getting storage error while bulding user item matrix with all the item. We Decided  to use only category ""Restaurant"" & ""Shopping"" for our Recommndation ."
"0","#---------------------------------TEAM NOTE:"
"0","# I Thought we can use TWo category to make problem more close to the actual problem, where we handle more than one Category to recommend."
"0","#---------------------------------TEAM NOTE:"
"0","# https://github.com/tidyverse/tidyr/issues/426"
"0","#Settting up the Business Category "
"0","str_Category <- ""Restaurant|Shopping"""
"0","# Creating User Item Matrix "
"0","ui_matrix_star <- DF_MAIN %>% filter(str_detect(bus_categories_all, str_Category)) %>% select(user_id, business_id, rev_stars) %>% "
"0","  group_by_at(vars(-rev_stars)) %>%  #  # group by everything other than the value column."
"0","  dplyr::mutate(row_id=1:n()) %>% ungroup() %>%  # build group index"
"0","  spread(key=business_id, value=rev_stars) %>%    # spread"
"0","  select(-row_id)  # drop the index"
"0","rownames(ui_matrix_star)<-ui_matrix_star$user_id # set row names to user_id"
"2","Setting row names on a tibble is deprecated."
"0","ui_matrix_star<-ui_matrix_star %>% select(-user_id) %>% as.matrix()# remove user_id from columns"
"0","umat <- as(ui_matrix_star,""realRatingMatrix"") # save real ratings for algo "
"0","real_ui_matrix_star <- as(ui_matrix_star,""realRatingMatrix"") # save real ratings for algo "
"0","# preview matrices "
"0","as.data.frame.array(ui_matrix_star) %>% head() %>% kable(caption=""Preview of User-Item Matrix (User-Business)"") %>% kable_styling() %>% scroll_box()"
